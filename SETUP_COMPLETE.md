# ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## üéâ –ß—Ç–æ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### 1. **.env —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω**

–í—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

- ‚úÖ **Supabase** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ **Google Sheets** - ID —Ç–∞–±–ª–∏—Ü—ã –∏ –Ω–∞–∑–≤–∞–Ω–∏—è –ª–∏—Å—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ **Telegram Bot** - —Ç–æ–∫–µ–Ω –∏ Chat ID –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ **–ü—É—Ç–∏ –∫ –ë–î –∏ –ª–æ–≥–∞–º** - —É–∫–∞–∑–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—É—Ç–∏

### 2. **config.py –æ–±–Ω–æ–≤–ª–µ–Ω**

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è credentials –¥–ª—è Supabase —Ä–µ–∂–∏–º–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Google Sheets
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –∏–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫

### 3. **–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

```
‚úÖ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: Supabase (–æ—Å–Ω–æ–≤–Ω–∞—è –ë–î)

üìä Google Sheets:
  - ID —Ç–∞–±–ª–∏—Ü—ã: 1xuxs4-lGlEIi1nvJ3EWrZj5U0SiADC1ceXKxqzFvmvs
  - –û—Å–Ω–æ–≤–Ω–æ–π –ª–∏—Å—Ç: WorkTime
  - –õ–∏—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: Users

üí¨ Telegram:
  - Bot token: 8318266102:AAESpe4TI...
  - Chat ID: -1002917784307

üóÇÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
  - –û—Å–Ω–æ–≤–Ω–∞—è: local_backup.db
  - –†–µ–∑–µ—Ä–≤–Ω–∞—è: local_backup_fallback.db

üìù –õ–æ–≥–∏:
  - Windows: %APPDATA%/WorkTimeTracker/logs/
  - Linux: ~/.local/share/WorkTimeTracker/logs/
```

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (Windows):

```powershell
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd "D:\proj vs code\WorkTimeTracker"

# 2. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin claude/analyze-project-repo-014htDps2c1UeCDCCYHN7UqC

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
pip install -r requirements.txt
pip install supabase python-dotenv

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
python user_app/main.py

# –ò–õ–ò –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å
python admin_app/main_admin.py

# –ò–õ–ò Telegram –±–æ—Ç–∞
python telegram_bot/main.py
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: Google Credentials

–§–∞–π–ª `temp_credentials.json` **–Ω–µ –Ω–∞–π–¥–µ–Ω** –≤ –ø—Ä–æ–µ–∫—Ç–µ.

### –ï—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Google Sheets:

1. **–°–æ–∑–¥–∞–π—Ç–µ Service Account** –≤ Google Cloud Console:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://console.cloud.google.com
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
   - –í–∫–ª—é—á–∏—Ç–µ **Google Sheets API**
   - –°–æ–∑–¥–∞–π—Ç–µ **Service Account**
   - –°–∫–∞—á–∞–π—Ç–µ JSON –∫–ª—é—á

2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á:**
   ```powershell
   # –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç
   copy Downloads\your-project-xxxx.json "D:\proj vs code\WorkTimeTracker\temp_credentials.json"
   ```

3. **–î–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø Service Account –∫ —Ç–∞–±–ª–∏—Ü–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google Sheets —Ç–∞–±–ª–∏—Ü—É
   - –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"
   - –î–æ–±–∞–≤—å—Ç–µ email Service Account (–≤–∏–¥–∞ `xxx@xxx.iam.gserviceaccount.com`)
   - –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ "–†–µ–¥–∞–∫—Ç–æ—Ä"

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç–æ–ª—å–∫–æ Supabase:

Google Credentials **–ù–ï —Ç—Ä–µ–±—É—é—Ç—Å—è** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å Supabase.

---

## üîß –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É Supabase –∏ Google Sheets

–í —Ñ–∞–π–ª–µ `config.py` (—Å—Ç—Ä–æ–∫–∞ 47):

```python
# –î–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
USE_SUPABASE = True

# –î–ª—è —Ä–∞–±–æ—Ç—ã —Å Google Sheets
USE_SUPABASE = False
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Supabase:
- ‚ö° **30x –±—ã—Å—Ç—Ä–µ–µ** (0.05 —Å–µ–∫ vs 1.5 —Å–µ–∫)
- üöÄ **–ë–æ–ª—å—à–µ –ª–∏–º–∏—Ç–æ–≤** (50,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å vs 100/100—Å–µ–∫)
- üí™ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** –¥–æ 1000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üí∞ **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ** (Free Tier)

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Google Sheets:
- –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —É–¥–æ–±–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –î–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –æ—Ç—á–µ—Ç–æ–≤
- –î–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑ Supabase –æ–±—Ä–∞—Ç–Ω–æ –≤ Sheets

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 1. –¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```powershell
python -c "import config; print('‚úì –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è OK')"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: Supabase
‚úì –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
‚úì –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫: [60, 300, 900, 1800, 3600]
‚úì –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ chat ID: -1002917784307
‚úì –õ–∏–º–∏—Ç—ã: –ü–µ—Ä–µ—Ä—ã–≤=45–º–∏–Ω, –û–±–µ–¥=60–º–∏–Ω
‚úì –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è OK
```

### 2. –¢–µ—Å—Ç Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```powershell
python -c "from supabase_api import get_supabase_api; api = get_supabase_api(); print('‚úì Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω')"
```

### 3. –¢–µ—Å—Ç Telegram –±–æ—Ç–∞:

```powershell
python tools/tg_send.py "–¢–µ—Å—Ç"
```

–°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –≤ –≤–∞—à Telegram —á–∞—Ç.

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ .env —Ñ–∞–π–ª–∞

–í–∞—à `.env` —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ü–∏–∏:

1. **üîê Supabase API** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
2. **üìä Google Sheets API** - –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
3. **üí¨ Telegram Bot** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. **‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –ª–æ–≥–∏, –≤–µ—Ä—Å–∏—è
5. **üóÇÔ∏è –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º** - –ë–î, –ª–æ–≥–∏
6. **üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤** - –ª–∏–º–∏—Ç—ã –≤—Ä–µ–º–µ–Ω–∏
7. **üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
8. **üìß –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –∏ —Å–ª—É–∂–µ–±–Ω—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–≤ `.env` —Ñ–∞–π–ª.

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "Module not found: supabase"
```powershell
pip install supabase
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Module not found: dotenv"
```powershell
pip install python-dotenv
```

### –ü—Ä–æ–±–ª–µ–º–∞: "GOOGLE_CREDENTIALS_FILE not found"
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `USE_SUPABASE = True` –≤ `config.py`
- –ò–õ–ò —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `temp_credentials.json` (—Å–º. —Ä–∞–∑–¥–µ–ª –≤—ã—à–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –≤–∏–¥–∏—Ç .env
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞: `cd "D:\proj vs code\WorkTimeTracker"`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `.env` —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞: Telegram –±–æ—Ç –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞ `NUMBER:STRING`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Chat ID: –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `-` –¥–ª—è –≥—Ä—É–ø–ø
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≥—Ä—É–ø–ø—É)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `README.md` - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `SUPABASE_MIGRATION_GUIDE.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Supabase
- `SUPABASE_QUICKSTART.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Supabase
- `.env.example` - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```powershell
python user_app/main.py
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É Telegram –±–æ—Ç–∞:
```powershell
python telegram_bot/main.py
```

### 3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ú–∏–≥—Ä–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Google Sheets –≤ Supabase:
```powershell
python migrate_to_supabase.py
```

### 4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ –≤ Sheets –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤:
```powershell
python sync_to_sheets.py
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ –≤–µ—Ç–∫—É:** `claude/analyze-project-repo-014htDps2c1UeCDCCYHN7UqC`

**–ö–æ–º–º–∏—Ç—ã:**
1. `Fix: Supabase credentials validation` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
2. `Add Supabase quickstart guide` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
3. `Add user configuration and Google Sheets support` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

---

**–í–æ–ø—Ä–æ—Å—ã?** –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤:
- Windows: `%APPDATA%/WorkTimeTracker/logs/`
- Linux: `~/.local/share/WorkTimeTracker/logs/`

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?** –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:
```powershell
python tools/doctor.py
```
